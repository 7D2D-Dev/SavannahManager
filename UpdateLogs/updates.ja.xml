<?xml version="1.0" encoding="utf-8" ?>
<updates>
  <update version="2.6.59.7">
    1. ConfigEditorにa21.1のテンプレートを追加しました。
  </update>
  <update version="2.6.58.6">
    1. コマンドの定期実行にてコマンドがからの状態で開始ボタンを押すと、Enabledで固定される問題を修正しました。
    2. 自動再起動にて曜日間隔モードで日付が空の場合にクラッシュする問題を修正しました。
  </update>
  <update version="2.6.57.5">
    1. コマンドの定期実行を行う機能を追加しました。
      右カラムの「コマンド」→「Scheduled」から設定が可能です。
      詳細はマニュアルに追加しますが、時間がないのでこちらに簡単に記載します。

      「Edit」を押すことでコマンドの管理リストが表示されます。
      コマンドの追加は「＋」ボタンより可能で、各項目の意味は以下の通りです。
      Command: 実行したいコマンド
      Interval: コマンドを実行する間隔
      Wait Time: 初回実行を行う前に待機する時間 (サーバ起動中に実行することを防ぐために使用できます。)

      定期実行を開始するには自動再起動開始ボタンの横にある「AutoRestart Disabled」をクリックすると定期実行を開始します。
      すると「AutoRestart Enabled」へボタンが切り替わり、再びクリックすると停止します。

      また、メイン画面の「Execute scheduled with telnet」を有効にするとTelnet接続されたと同時に定期実行を開始します。

    2. 自動再起動の再起動タイミングに曜日を追加しました。
      曜日を指定することで毎週決まった時間に再起動処理を行うことができます。

    3. 依存ライブラリを削除しました。
      動作に影響はありませんが、必要に応じてクリーンアップデートを行ってください。
  </update>
  <update version="2.6.56.4">
    1. エラーメッセージが正しく表示されない問題を修正しました。
  </update>
  <update version="2.6.55.3">
    1. 自動再起動の再起動方法を修正しました。
    2. 自動再起動に２つのモードを追加しました。
      Cool Time: Telnet接続解除後に指定した時間待機し、その後に再起動処理を行います。
      Wait Process: Telnet接続解除後にプロセスが終了するのを待機し、その後に再起動処理を行います。
  </update>
  <update version="2.6.54.2">
    1. logsディレクトリが存在しない状態でログビューアを開くとクラッシュする問題を修正しました。
  </update>
  <update version="2.6.53.1">
    1. ログビューアで文字コードを選択できるようにしました。
      選択できる文字コードは現在「UTF-8 (デフォルト)」「Shift-JIS」の2つです。
    2. ログビューアのファイル一覧に日付を追加しました。
    3. ログビューアのファイル一覧にヘッダーを追加し、ソートできるようにしました。
    4. バックアップ機能を削除しました。
      まだ戻せるので必要な方は私までご連絡ください。
      連絡がない場合そのまま削除の方針でいきます。
  </update>
  <update version="2.6.52.0">
    1. ログビューアーを追加しました。
      Savannah Manager 2が出力するlogファイルを解析することが可能です。
      7dtdのTelnetログを解析するだけなので、異なるTelnetクライアントのものを解析したい場合は、ログファイルを以下の場所に*.logというファイル名で配置してください。
        ・[Savannah Manager 2のディレクトリ]\logs
      その他の使用方法は<nobr /><a href="https://github.com/AonaSuzutsuki/SavannahManager/wiki/AnalyzeLog.ja">Wiki</a><nobr />を参照してください。
    2. 依存ライブラリを更新しました。
    3. タスクバーに表示されるアイコンを追加しました。
  </update>
  <update version="2.5.51.7">
    1. 依存ライブラリを更新しました。
  </update>
  <update version="2.5.50.6">
    1. Config Editorのテンプレートにa20.4bを追加しました。
  </update>
  <update version="2.5.49.5">
    1. Permission Editorのカレンダーで一桁時間が含まれる場合、開き直すと値が消える問題を修正しました。
  </update>
  <update version="2.5.48.4">
    1. ConfigEditor, XmlEditorでSFTPでの読み書きに対応しました。
    2. SSH起動のオプションを変更してUndead Legacyなども起動できるようにしました。
  </update>
  <update version="2.5.47.3">
    1. Telnet接続でNullReferenceExceptionが発生する場合がある問題を修正しました。
    2. 強制シャットダウンやXmlEditorなどのリスト表示で複数表示される問題を修正しました。
  </update>
  <update version="2.5.46.2">
    1. 設定のバックアップタブ内を日本語対応しました。
    2. 自動再起動機能を追加しました。
      使用するには設定のその他タブより、ベータモードを有効にしてください。
      また、設定のRestartタブで詳細なリスタート時間を設定することが出来ます。
    3. 非同期タスクエラーが発生した場合に正しくログが取得できなくなる問題を修正しました。
    4. キーボードの上下でコマンド実行履歴を入力できるようになりました。
    5. パスワードの暗号化保存に対応しました。
    6. 日付がNULLのとき、パーミッションエディターでカレンダーウィンドウを開くとクラッシュする問題を修正しました。
    7. ConfigEditorのa20の日本語翻訳を修正しました。
    8. エラー発生時にエラーログを出力するディレクトリを「errors」に変更しました。
    9. Telnetログの取得方法を修正しました。
    10. SSH経由でサーバを起動できるようにしました。
      これによりLinuxの7dtdサーバを起動できるようになります。
      なお、確認している環境はUbuntu 18.04のみです。
  </update>
  <update version="2.5.45.1">
    1. プレイヤーリストの表示がa20に対応しました。
    2. ConfigEditorのa20 コンフィグテンプレートを追加しました。
    3. バックアップエディタを修正しました。.
      リストア先を指定できるように変更しました。
      変更する場合は設定画面よりバックアップタブを開いてください。
    4. プレイヤーリストがリセットされない問題を修正しました。
    5. Telnet接続したままアプリケーションを終了するとクラッシュする不具合を修正しました。
    6. Steam IDをクリックした時に、ブラウザが開かずにクラッシュする問題を修正しました。
    7. プレイヤーリストに空の要素が追加される問題を修正しました。
    8. Telnetログの改行が無視される問題を修正しました。
  </update>
  <update version="2.5.44.0">
    1. フレームワークを.Net Framework 4.8から.Net 6に変更しました。

    <br />

    <font color="#ff0000">
      ○お知らせ
      .Net 6にフレームワークを変更しました。
      インストールされていない方は公式よりDesktop Runtimeのインストールをお願いします。（インストール前に更新すると起動しなくなります）
    </font>
    <a href="https://dotnet.microsoft.com/download/dotnet/6.0">
      <font color="#00ffff">https://dotnet.microsoft.com/download/dotnet/6.0</font>
    </a>
  </update>
  <update version="2.4.43.4">
    1. 初期設定で自動検索が正しく動作しない問題を修正しました。
  </update>
  <update version="2.4.42.3">
    1. クリーンアップデートを追加しました。
      過去に依存していたものの使わなくなった.dllを削除して最新バージョンをインストールします。
    2. 標準言語を英語に変更しました。
    3. 初期設定画面に言語選択を追加しました。
    4. ConfigEditorのファイル構造を変更しました。
      ConfigEditorディレクトリに入ります。
      現行バージョンではクリーンアップデートを行うまで旧ConfigEditorは削除されません。

    <br />

    <font color="#ff0000">
      ○お知らせ
      次回かもうちょっと先か未定ですが、.Net Core 3.1にフレームワークを変更します。
      インストールされていない方は公式よりDesktop Runtimeのインストールをお願いします。（インストール前に更新すると起動しなくなります）
    </font>
    <a href="https://dotnet.microsoft.com/download/dotnet/3.1">
      <font color="#00ffff">https://dotnet.microsoft.com/download/dotnet/3.1</font>
    </a>
  </update>
  <update version="2.4.41.2">
    1. コンソールログで改行が正しく取得できない問題を修正しました。
    2. Telnet Wait Timeの標準値を2msから2000msへ修正しました。
      2.1. Get Timeやプレイヤー取得ボタンで結果がログに流れてしまう場合は、設定でTelnet Wait Timeの値を増やしてください。
    3. 設定にヘルプボタンをいくつか追加しました。
    4. INIファイルのフォーマットを変更しました。
    5. コンソールログの折り返しをサポートしました。
      5.1 コンソールログを右クリックするとメニューが出ます。
    6. 強制シャットダウンウィンドウが複数表示できる問題を修正しました。
    7. 強制シャットダウンウィンドウでPIDが表示されない問題を修正しました。
  </update>
  <update version="2.4.40.1">
    1. Config Editorの起動が遅い問題を修正しました。
    2. Config Editorで保存の際にエラーが発生する問題を修正しました。
    3. Xml EditorにてInnerXmlに不正なタグを入れるとクラッシュする問題を修正しました。
    4. Backup Editorでバックアップができない問題を修正した。
  </update>
  <update version="2.4.39.0">
    1. 更新画面を閉じたときに他のアプリケーションにフォーカスが移ってしまう問題を修正しました。
    2. TelnetClientの生成に関する内部処理を修正しました。
    3. Telnetのログ取得のタイムアウト時間を個別に指定できるようにしました。
    4. プレイヤーや時間の取得に関して処理方法を修正しました。
      4.1. プレイヤー取得や時間取得など、中央のログに出力されてしまう問題が解決できます。
    5. XmlEditorの内部処理を修正しました。
      5.1. XmlEditorのドラッグムーブでrootノードより上層に移動できる問題を修正しました。
      5.2. XmlEditorのドラッグムーブでタグ以外の子要素に入れられる問題を修正しました。
    6. serveradmin.xmlを編集する「Permission Editor」を追加しました。
  </update>
  <update version="2.3.38.4">
    1. プレイヤー取得や時間取得時に正常に取得できない問題を修正しました。
    2. 時間設定ボタンが正常に動作しない問題を修正しました。
    3. Savannah Xml Editor上で要素選択時にエラー落ちする問題を修正しました。
    4. Savannah Xml Editor上で要素上でマウスムーブしてもドラッグできない問題を修正しました。
    5. アップデートサーバの接続先を変更しました。
      5.1. 本バージョン以前からのアップデートの場合は二重でアップデートがかかる場合があります。
    6. 32bit優先を外しました。
      6.1. 64bit OSでは64bitとして動作します。
  </update>
  <update version="2.3.37.3">
    1. ショートカットキーの削除・設定ができない問題を修正しました。
    2. ショートカットキーを削除した際に説明文が消える問題を修正しました。
    3. Savannah Xml Editorをベータから正式版へと移行しました。
      3.1. 同時に内部のXMLパーサを<space /><nobr /><a href="https://github.com/AonaSuzutsuki/SavannahXmlLib">SavannahXmlLib</a><nobr /><space />へとアップデートしました。

    4. アップデートサーバに接続できない場合にアップデートチェックでエラー落ちする問題を修正しました。
      4.1 エラーダイアログは発生しますが、正常な動作です。
  </update>
  <update version="2.3.36.2">
    1. ローカルサーバモードがオフの場合でも、Telnet接続に失敗した場合にサーバが起動してしまう問題を修正しました。
    2. ローカルサーバモードでTelnet接続を行う際に、保存されたアドレスが書き換えられてしまう問題を修正しました。
  </update>
  <update version="2.3.35.1">
    1. Telnetで接続できない際の待機を非同期に変更しました。
    2. サーバが終了後、Savannah Managerを終了するとエラーが出る問題を修正しました。
  </update>
  <update version="2.3.34.0">
    1. アップデートシステムを更新しました。
  </update>
  <update version="2.2.33.6">
    1. a19b対応のConfigテンプレートを追加
    2. 日数のテキストボックスを大きくしました。
    3. 強制終了画面にてメッセージボックスが空となる不具合を修正しました。
  </update>
  <update version="2.2.32.5">
    1. Telnetのログ取得の際に改行が正しく認識できない問題を修正
    2. 初期設定画面を新しいシステムに置き換えました
      これにより他サーバのみを管理する場合でもスキップできるようになりました。
  </update>
  <update version="2.2.31.4">
    1. Telnetが強制的に切断された際に再接続できない問題を修正
  </update>
  <update version="2.2.30.3">
    1. しれっとXml Editor追加しました。
      設定よりベータモードを有効化すると利用できます。
      起動はツールからXml Editorを選択してください。
      なお、起動制限とかないので直接exeファイル起動すれば起動できます。
    2. 内部フレームワークバージョンを更新
      .Net Framework 4.8に更新しました。
      お知らせの通り当アプリケーションのアップデート前に.Net Framework 4.8のインストールを行ってください。
    3. Admin/Whitelist/Kick/Banを開けると落ちる問題を修正

    <br />

    <font color="#ff0000">
      ○お知らせ
      今回のアップデートでターゲットフレームワークを.Net Framework 4.8に更新しています。
      インストールされていない方は公式よりRuntimeのインストールをお願いします。（インストール前に更新すると起動しなくなります）
    </font>
    <a href="https://dotnet.microsoft.com/download/dotnet-framework/net48">
      <font color="#00ffff">https://dotnet.microsoft.com/download/dotnet-framework/net48</font>
    </a>

    <br />

    また、時期を見て.Net Frameworkから.Net Coreに移行することも検討していますのでその場合は別のランタイムが必要となる可能性があります。

  </update>
  <update version="2.2.29.2">
    1. ConfigEditorのテンプレートの修正
      DropOnDeathの項目がa18向けに修正しました。
      英語表記のファイルが日本語になっていたのでそれも修正
      時間がないので翻訳作業はサボり気味です。
    2. 内部ライブラリの更新
    3. Backup Editorの個別削除機能の追加
    4. Backup Editorの保存先を個別に設定できるように変更
      設定にて保存先の変更ができます。

    ○お知らせ
    今回のアップデートでターゲットフレームワークを.Net Framework 4.8に更新しています。
    インストールされていない方は公式よりRuntimeのインストールをお願いします。（インストール前に更新すると起動しなくなります）
    https://dotnet.microsoft.com/download/dotnet-framework/net48

    また、時期を見て.Net Frameworkから.Net Coreに移行することも検討していますのでその場合は別のランタイムが必要となる可能性があります。
  </update>
  <update version="2.2.28.1">
    1. ConfigEditorにa18 betaのベースとなるコンフィグデータを追加しました。
     1.1 翻訳や細かい値確認はまだしていません。
    2. Backup Editorに削除機能を追加してました。
     2.1 この機能はまだ十分に検証していません。
  </update>
  <update version="2.2.27.0">
    1. バックアップ機能(Backup Editor)をベータとして搭載しました。
     1.1 Backup Editorを有効化する場合は設定よりベータモードを有効化してください。
     1.2 Backup Editorはツールより起動できます。
     1.3 なお、サーバ起動中はバックアップを使用しないでください。
    2. 初期設定でSteamがインストールされていないとクラッシュする問題を修正しました。
  </update>
  <update version="2.1.26.9b">
    1. ネットワークライブラリの内部コードを修正しました。これにより若干安定性が向上しました。
    2. その他内部コードを修正しました。
  </update>
  <update version="2.1.25.8b">
    1. ConfigEditorで発生するエラーを修正しました。
  </update>
  <update version="2.1.24.7b">
    1. ConfigEditorのa17.2のテンプレートを修正しました。
  </update>
  <update version="2.1.23.6b">
    1. チャット送信後に入力内容を削除するよう修正
    2. アプリケーション終了時にすべてのオブジェクトを解放するよう修正
    3. a17のチャットの取得に対応、これ以降a17より前のバージョンは動作保証しません。
  </update>
  <update version="2.1.22.5b">
    1. ConfigEditorのa17用テンプレートを更新
  </update>
  <update version="2.1.21.4b">
    1. 内部のライブラリを更新
    2. .Net Frameworkのバージョンを4.7.1へ変更
    3. a17の仮サポート
     3.1 コンフィグファイルを7dtdサーバ用実行可能ファイルの場所へコピーするように変更
  </update>
  <update version="2.1.20.3b">
    1. アップデータの詳細が英語にならない問題を修正
    2. エラーによる強制終了の際にプロセスが裏で動き続けるバグを修正
    3. 初期設定にてSteamがインストールされていない場合にクラッシュするバグを修正
  </update>
  <update version="2.1.19.2b">
    1. アップデータを追加
    2. グローバルIPとローカルIPを取得するシステムを追加
    3. ポート開放のチェックを行うシステムを追加
  </update>
  <update version="2.1.18.1b">
    1. アイコンをクリックすると落ちるバグを修正
    2. KimamaLibのコードを全て移植してライブラリを除去
    3. アラートウィンドウが出ると落ちるバグを修正
  </update>
  <update version="2.1.17.0b">
    1. Config Editorにて空のプロパティがあるとズレる不具合を修正
    2. それにともなってサーバ起動やTelnetが正しく動作しない問題を修正
  </update>
  <update version="1.0.17.17b">
    1. ConfigEditorのテンプレートを修正
    　英語版のテンプレートを修正
  </update>
  <update version="1.0.16.16b">
    1. ConfigEditorのテンプレートを修正
    　新規作成によりサーバが起動できなかった問題を修正しました。
  </update>
  <update version="1.0.15.15b">
    1. a16向けにConfigEditorのデータを追加
    　※突貫なのでところどころ翻訳できてません。
  </update>
  <update version="1.0.14.14b">
    1. プレイヤー一覧でヘッダ情報が表示されない不具合を修正
  </update>
  <update version="1.0.13.13b">
    1. ショートカットキー機能の実装
  </update>
  <update version="1.0.12.12b">
    1. プレイヤー取得や時間取得がうまく動作しない問題を修正
    2. 起動時にアップデートのチェックを行うオプションの追加
  </update>
    <update version="1.0.11.11b">
    1. Telnetで接続を押した際、起動ボタンが表示されたままになる問題を修正
    2. コピーライトの年数を現在のものへ変更
    3. 初期設定にファイルを指定するボタンを追加
  </update>
  <update version="1.0.10.10b">
    1. 設定のウィンドウサイズに少数がある場合にエラーが出る問題を修正
  </update>
  <update version="1.0.9.9b">
    1. ConfigEditor向け、a15用の設定を追加
  </update>
  <update version="1.0.8.8b">
    1. チャットが取得できない問題を修正
    
    2. ConfigEditorの初期バージョンが古い問題を修正
    
    3. アップデータの実装
    
    4. 次回アップデートの準備
  </update>
  <update version="1.0.7.7b">
    1. Admin系統のウィンドウが開けないバグを修正

    2. Config Editorのデータにない項目を選択した際にエラーが出るバグを修正
  </update>
  <update version="1.0.6.6b">
    1. 初期設定のウィンドウを実装、初回起動で出ます
    
    2. ログの消去のボタンを追加
    
    3. Config Editorのa14のファイルを追加
  </update>
  <update version="1.0.5.5b">
    1. ログの文字数を削減、ログの文字数の個別指定の実装
  </update>
  <update version="1.0.4.4b">
    1. コンソールの表示方法を変更
    　コンソールテキストの表示方法を変更し、パフォーマンスを向上させました。
    　これにより長いコンソールログの保持が可能となりました。
  </update>
  <update version="1.0.3.3b">
    1. ゲーム内時間の取得と設定に対応
    　今更ながらコマンド簡易入力系にも手を出していきます。
    　第一弾として時間を追加しておきました。
     
    2. 内部コードを外部公開用ライブラリを用いたコードに変更
    　まだ完成していませんが、とりあえず使える状態にしてあります。
     
    3. 利用するスレッドの削減
    　スレッドを減らしたことで少なからず軽くなったと思います。
     
    4. Telnetの機能改善
    　接続終了検知部分を大きく改善しました。
    　これにより正確に接続終了を検出することができます。
  </update>
  <update version="1.0.2.2b">
    1. いろいろと修正

    2. Config Editorの修正
    　a13で気が付いたのですが、serverconfig.xmlに書かれていないけどConfig Editor側にはあるプロパティを選択するとSystem.ArgumentOutOfRangeExceptionが発生します。
    　ほんの数行でしたが、なんとか修正できました。

    3. 片言な英語に対応
  </update>
  <update version="1.0.1.1b">
    1. 設定のパス選択が機能しなかった問題を修正

    2. 設定のパス選択にてキャンセルを押した際に既存のパスが消去される問題を修正

    3. パスワード非表示機能の追加

    4. コマンドリストの追加

    5. Config Editorのリメイク
    　なお、いくつか放置している部分があるため、不具合っぽい仕様がいくつかあります。
  </update>
  <update version="1.0.0.0b">
    Savannah Manager 2公開
  </update>
</updates>
